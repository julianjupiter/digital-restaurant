<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="696px" preserveAspectRatio="none" style="width:1508px;height:696px;" version="1.1" viewBox="0 0 1508 696" width="1508px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="652" x="434.5" y="16.708">Digital restaurant system (monolith-websockets) - Backend - Components</text><!--cluster Backend--><polygon fill="#FFFFFF" points="413.562,202.9531,486.562,202.9531,493.562,225.25,1486.56,225.25,1486.56,684.9531,413.562,684.9531,413.562,202.9531" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="413.562" x2="493.562" y1="225.25" y2="225.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="417.562" y="217.9482">Backend</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="85" x="911.561" y="240.2451">«Container»</text><!--entity 14--><rect fill="#DDDDDD" height="76.8906" style="stroke: #707070; stroke-width: 1.5;" width="167" x="1128.06" y="591.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="1158.56" y="614.9482">«Spring, Axon»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="1138.06" y="631.2451">Courier</text><line style="stroke: #707070; stroke-width: 1.0;" x1="1129.06" x2="1294.06" y1="634.5469" y2="634.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="1144.06" y="651.542">domain component</text><!--entity 16--><rect fill="#DDDDDD" height="76.8906" style="stroke: #707070; stroke-width: 1.5;" width="167" x="455.062" y="591.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="485.562" y="614.9482">«Spring, Axon»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="465.062" y="631.2451">Customer</text><line style="stroke: #707070; stroke-width: 1.0;" x1="456.062" x2="621.062" y1="634.5469" y2="634.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="471.062" y="651.542">domain component</text><!--entity 20--><rect fill="#DDDDDD" height="76.8906" style="stroke: #707070; stroke-width: 1.5;" width="167" x="852.062" y="422.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="882.562" y="445.9482">«Spring, Axon»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="862.062" y="462.2451">Order</text><line style="stroke: #707070; stroke-width: 1.0;" x1="853.062" x2="1018.062" y1="465.5469" y2="465.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="868.062" y="482.542">domain component</text><!--entity 18--><rect fill="#DDDDDD" height="76.8906" style="stroke: #707070; stroke-width: 1.5;" width="167" x="763.062" y="591.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="793.562" y="614.9482">«Spring, Axon»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="773.062" y="631.2451">Restaurant</text><line style="stroke: #707070; stroke-width: 1.0;" x1="764.062" x2="929.062" y1="634.5469" y2="634.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="779.062" y="651.542">domain component</text><!--entity 28--><rect fill="#DDDDDD" height="76.8906" style="stroke: #707070; stroke-width: 1.5;" width="211" x="1008.06" y="253.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="1042.56" y="276.9482">«Spring MVC, Axon»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="148" x="1018.06" y="293.2451">Web - Command side</text><line style="stroke: #707070; stroke-width: 1.0;" x1="1009.06" x2="1218.06" y1="296.5469" y2="296.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="1024.06" y="313.542">web component / adapter</text><!--entity 36--><rect fill="#DDDDDD" height="76.8906" style="stroke: #707070; stroke-width: 1.5;" width="211" x="626.062" y="253.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="183" x="640.062" y="276.9482">«Spring Data REST, Axon»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="636.062" y="293.2451">Web - Query side</text><line style="stroke: #707070; stroke-width: 1.0;" x1="627.062" x2="836.062" y1="296.5469" y2="296.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="642.062" y="313.542">web component / adapter</text><!--entity 2--><ellipse cx="240.562" cy="55.25" fill="#DDDDDD" rx="8" ry="8" style="stroke: #707070; stroke-width: 2.0;"/><path d="M240.562,63.25 L240.562,90.25 M227.562,71.25 L253.562,71.25 M240.562,90.25 L227.562,105.25 M240.562,90.25 L253.562,105.25 " fill="none" style="stroke: #707070; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="215.562" y="121.2451">Courier</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="208.062" y="41.9482">«Person»</text><path d="M308.562,64.4531 L308.562,72.9531 L273.218,76.9531 L308.562,80.9531 L308.562,89.5859 A0,0 0 0 0 308.562,89.5859 L476.562,89.5859 A0,0 0 0 0 476.562,89.5859 L476.562,74.4531 L466.562,64.4531 L308.562,64.4531 A0,0 0 0 0 308.562,64.4531 " fill="#FFFFFF" style="stroke: #707070; stroke-width: 1.0;"/><path d="M466.562,64.4531 L466.562,74.4531 L476.562,74.4531 L466.562,64.4531 " fill="#FFFFFF" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="314.562" y="81.52">hero, who delivers food</text><!--entity 1--><ellipse cx="572.562" cy="55.25" fill="#DDDDDD" rx="8" ry="8" style="stroke: #707070; stroke-width: 2.0;"/><path d="M572.562,63.25 L572.562,90.25 M559.562,71.25 L585.562,71.25 M572.562,90.25 L559.562,105.25 M572.562,90.25 L585.562,105.25 " fill="none" style="stroke: #707070; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="538.562" y="121.2451">Customer</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="540.062" y="41.9482">«Person»</text><path d="M641.562,64.4531 L641.562,72.9531 L607,76.9531 L641.562,80.9531 L641.562,89.5859 A0,0 0 0 0 641.562,89.5859 L735.562,89.5859 A0,0 0 0 0 735.562,89.5859 L735.562,74.4531 L725.562,64.4531 L641.562,64.4531 A0,0 0 0 0 641.562,64.4531 " fill="#FFFFFF" style="stroke: #707070; stroke-width: 1.0;"/><path d="M725.562,64.4531 L725.562,74.4531 L735.562,74.4531 L725.562,64.4531 " fill="#FFFFFF" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="647.562" y="81.52">orders food</text><!--entity 3--><ellipse cx="1059.562" cy="55.25" fill="#DDDDDD" rx="8" ry="8" style="stroke: #707070; stroke-width: 2.0;"/><path d="M1059.562,63.25 L1059.562,90.25 M1046.562,71.25 L1072.562,71.25 M1059.562,90.25 L1046.562,105.25 M1059.562,90.25 L1072.562,105.25 " fill="none" style="stroke: #707070; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="989.062" y="121.2451">Restaurant manager</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="1027.062" y="41.9482">«Person»</text><path d="M1165.06,56.9531 L1165.06,72.9531 L1130.37,76.9531 L1165.06,80.9531 L1165.06,97.2188 A0,0 0 0 0 1165.06,97.2188 L1378.06,97.2188 A0,0 0 0 0 1378.06,97.2188 L1378.06,66.9531 L1368.06,56.9531 L1165.06,56.9531 A0,0 0 0 0 1165.06,56.9531 " fill="#FFFFFF" style="stroke: #707070; stroke-width: 1.0;"/><path d="M1368.06,56.9531 L1368.06,66.9531 L1378.06,66.9531 L1368.06,56.9531 " fill="#FFFFFF" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="1171.06" y="74.02">takes the order and organizes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="1171.06" y="89.1528">preparation</text><!--link 2 to 28--><path d="M273.162,114.4741 C278.553,118.6791 284.408,122.3771 290.562,124.9531 C370.978,158.6081 1005.983,101.1351 1074.56,154.9531 C1102.51,176.8881 1111.35,217.4041 1113.74,248.6191 " fill="none" id="2-28" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="1114.09,253.9371,1117.486,244.6923,1113.7593,248.9481,1109.5035,245.2214,1114.09,253.9371" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="1101.06" y="168.02">«WebSockets»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="1099.56" y="183.1528">claim the order</text><!--link 2 to 36--><path d="M207.938,81.5951 C133.245,91.1561 -39.4994,120.9321 17.5621,186.9531 C94.2081,275.6331 440.285,290.5051 620.962,292.0881 " fill="none" id="2-36" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="625.994,292.1291,617.0275,288.0547,620.9942,292.0877,616.9612,296.0544,625.994,292.1291" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="130.0621" y="168.02">«WebSockets»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="317" x="18.5621" y="183.1528">read courier projections and subscribe to updates</text><!--link 1 to 28--><path d="M606.811,115.0811 C612.045,119.0191 617.679,122.4811 623.562,124.9531 C684.079,150.3761 1168.34,107.3741 1213.56,154.9531 C1241.66,184.5201 1209.86,222.1711 1174.87,250.4381 " fill="none" id="1-28" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="1170.59,253.8371,1180.1292,251.3869,1174.5102,250.7336,1175.1635,245.1146,1170.59,253.8371" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="1224.56" y="168.02">«WebSockets»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="1238.56" y="183.1528">order food</text><!--link 1 to 36--><path d="M538.428,101.5851 C524.953,110.0111 509.017,118.9021 493.562,124.9531 C429.816,149.9101 311.085,132.4921 352.562,186.9531 C385.096,229.6721 520.81,259.3551 620.58,275.8891 " fill="none" id="1-36" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="625.601,276.7151,617.3709,271.3054,620.6675,275.9024,616.0705,279.199,625.601,276.7151" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="473.562" y="168.02">«WebSockets»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="334" x="353.562" y="183.1528">read customer projections and subscribe to updates</text><!--link 20 to 14--><path d="M1019.24,491.1091 C1067.92,507.9611 1120.68,526.6131 1125.56,529.9531 C1147.82,545.1681 1167.84,567.5141 1182.95,587.1761 " fill="none" id="20-14" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="1186.29,591.5871,1184.0407,581.9986,1183.2695,587.6026,1177.6654,586.8314,1186.29,591.5871" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1161.56" y="543.02">«events»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="1174.06" y="558.1528">listen</text><!--link 20 to 14--><path d="M963.164,500.1591 C979.866,520.7601 1002.702,545.3771 1027.56,561.9531 C1056.32,581.1251 1091.22,595.7091 1122.86,606.3281 " fill="none" id="20-14" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="1127.91,607.9984,1120.623,601.3727,1123.1633,606.4271,1118.1089,608.9674,1127.91,607.9984" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="1028.56" y="543.02">«commands»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1057.06" y="558.1528">send</text><!--link 20 to 16--><path d="M851.857,492.8421 C842.722,495.5251 833.498,497.9691 824.562,499.9531 C765.843,512.9871 599.312,488.6761 555.562,529.9531 C540.403,544.2551 535.66,566.7411 534.926,586.7211 " fill="none" id="20-16" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="534.822,591.7401,539.0089,582.8255,534.9263,586.7412,531.0106,582.6586,534.822,591.7401" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="556.562" y="543.02">«events»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="569.062" y="558.1528">listen</text><!--link 20 to 16--><path d="M851.912,491.7581 C842.725,494.6641 833.474,497.4571 824.562,499.9531 C765.793,516.4091 746.776,506.1911 690.562,529.9531 C654.981,544.9931 618.655,568.4171 590.44,588.7601 " fill="none" id="20-16" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="586.337,591.7371,595.9704,589.6882,590.3836,588.8003,591.2715,583.2136,586.337,591.7371" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="691.562" y="543.02">«commands»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="720.062" y="558.1528">send</text><!--link 20 to 18--><path d="M851.686,493.3991 C825.288,504.9501 801.035,518.1271 793.562,529.9531 C781.898,548.4121 790.466,569.6791 803.847,587.8011 " fill="none" id="20-18" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="806.959,591.8561,804.6533,582.281,803.9151,587.8895,798.3066,587.1513,806.959,591.8561" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="794.562" y="543.02">«events»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="807.062" y="558.1528">listen</text><!--link 20 to 18--><path d="M911.711,500.2751 C905.915,509.8531 899.864,520.1941 894.562,529.9531 C884.603,548.2841 874.441,569.0011 866.047,586.7671 " fill="none" id="20-18" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="863.728,591.6951,871.1789,585.2543,865.8566,587.1708,863.94,581.8485,863.728,591.6951" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="895.562" y="543.02">«commands»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="924.062" y="558.1528">send</text><!--link 3 to 28--><path d="M1130.21,118.3071 C1135.98,120.7921 1141.81,123.0521 1147.56,124.9531 C1190.65,139.1851 1319.92,120.5871 1349.56,154.9531 C1396.16,208.9851 1306.05,246.7141 1224.07,268.6051 " fill="none" id="3-28" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="1219.18,269.8951,1228.9013,271.4751,1224.0157,268.6237,1226.867,263.7381,1219.18,269.8951" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="1372.06" y="168.02">«WebSockets»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="1362.56" y="183.1528">prepare the order</text><!--link 3 to 36--><path d="M988.884,84.2601 C901.518,93.6901 760.436,114.8131 728.562,154.9531 C707.939,180.9241 710.754,219.2771 717.547,248.7211 " fill="none" id="3-36" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="718.763,253.7381,720.5313,244.0493,717.5857,248.8787,712.7563,245.9331,718.763,253.7381" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="852.562" y="168.02">«WebSockets»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="340" x="729.562" y="183.1528">read restaurant projections and subscribe to updates</text><!--link 28 to 14--><path d="M1213.58,331.0841 C1253.72,351.7111 1295.81,381.6601 1318.56,422.9531 C1349.78,479.5921 1300.05,546.1911 1258.44,588.1161 " fill="none" id="28-14" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="1254.7,591.8431,1263.8995,588.3262,1258.2427,588.3147,1258.2541,582.6579,1254.7,591.8431" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="1328.56" y="458.52">«commands»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1357.06" y="473.6528">send</text><!--link 28 to 16--><path d="M1007.71,304.6101 C907.266,319.1591 755.319,351.7501 642.562,422.9531 C628.078,432.1001 538.263,514.1871 531.562,529.9531 C524.071,547.5801 524.359,568.5481 527.103,586.6801 " fill="none" id="28-16" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="527.938,591.7141,530.4107,582.1807,527.1195,586.7816,522.5186,583.4904,527.938,591.7141" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="643.562" y="458.52">«commands»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="672.062" y="473.6528">send</text><!--link 28 to 20--><path d="M1041.3,331.1191 C1027.65,339.9211 1014.06,349.9731 1002.562,360.9531 C985.344,377.3931 970.143,398.9901 958.592,417.8611 " fill="none" id="28-20" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="955.734,422.5951,963.8102,416.9582,958.3184,418.3149,956.9618,412.8231,955.734,422.5951" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="1003.562" y="374.02">«commands»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1032.062" y="389.1528">send</text><!--link 28 to 18--><path d="M1113.52,331.1511 C1113.61,372.5611 1114.17,441.0211 1116.56,499.9531 C1117.68,527.5001 1135.55,540.2371 1118.56,561.9531 C1095.99,590.8181 1005.802,609.0842 935.39,619.231 " fill="none" id="28-18" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="930.356,619.9476,939.8305,622.6373,935.3059,619.2419,938.7013,614.7174,930.356,619.9476" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="1117.56" y="458.52">«commands»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1146.06" y="473.6528">send</text><!--link 36 to 14--><path d="M837.103,306.7271 C964.265,325.1761 1166.4,363.2031 1210.56,422.9531 C1245.44,470.1461 1236.13,541.4161 1224.87,586.6771 " fill="none" id="36-14" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="1223.56,591.7911,1229.6653,584.0629,1224.7989,586.947,1221.9147,582.0807,1223.56,591.7911" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="1235.56" y="458.52">«events»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="1248.06" y="473.6528">listen</text><!--link 36 to 16--><path d="M626.051,320.8841 C575.091,340.2381 519.122,372.0561 491.562,422.9531 C463.268,475.2051 489.429,543.7811 512.566,587.2471 " fill="none" id="36-16" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="515.081,591.8961,514.3185,582.0768,512.7027,587.498,507.2815,585.8822,515.081,591.8961" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="492.562" y="458.52">«events»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="505.062" y="473.6528">listen</text><!--link 36 to 20--><path d="M777.598,331.1391 C809.782,357.4861 852.731,392.6451 885.721,419.6521 " fill="none" id="36-20" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="889.694,422.9041,885.2624,414.1086,885.8246,419.7375,880.1957,420.2997,889.694,422.9041" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="853.562" y="374.02">«events»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="866.062" y="389.1528">listen</text><!--link 36 to 18--><path d="M731.618,331.2661 C733.165,385.3611 741.595,486.6161 780.562,561.9531 C785.35,571.2111 791.833,580.0341 798.872,588.0681 " fill="none" id="36-18" style="stroke: #707070; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#707070" points="802.367,591.9471,799.3135,582.5836,799.0198,588.2328,793.3706,587.9391,802.367,591.9471" style="stroke: #707070; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="756.562" y="458.52">«events»</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="769.062" y="473.6528">listen</text><!--
@startuml
scale max 2000x2000
title Digital restaurant system (monolith-websockets) - Backend - Components

skinparam {
  shadowing false
  arrowColor #707070
  actorBorderColor #707070
  componentBorderColor #707070
  rectangleBorderColor #707070
  noteBackgroundColor #ffffff
  noteBorderColor #707070
}
actor "Courier" <<Person>> as 2 #dddddd
note right of 2
  hero, who delivers food
end note
actor "Customer" <<Person>> as 1 #dddddd
note right of 1
  orders food
end note
actor "Restaurant manager" <<Person>> as 3 #dddddd
note right of 3
  takes the order and organizes
  preparation
end note
package "Backend" <<Container>> {
  rectangle 14 <<Spring, Axon>> #dddddd [
    Courier
    - -
    domain component
  ]
  rectangle 16 <<Spring, Axon>> #dddddd [
    Customer
    - -
    domain component
  ]
  rectangle 20 <<Spring, Axon>> #dddddd [
    Order
    - -
    domain component
  ]
  rectangle 18 <<Spring, Axon>> #dddddd [
    Restaurant
    - -
    domain component
  ]
  rectangle 28 <<Spring MVC, Axon>> #dddddd [
    Web - Command side
    - -
    web component / adapter
  ]
  rectangle 36 <<Spring Data REST, Axon>> #dddddd [
    Web - Query side
    - -
    web component / adapter
  ]
}
2 .[#707070].> 28 : <<WebSockets>>\nclaim the order
2 .[#707070].> 36 : <<WebSockets>>\nread courier projections and subscribe to updates
1 .[#707070].> 28 : <<WebSockets>>\norder food
1 .[#707070].> 36 : <<WebSockets>>\nread customer projections and subscribe to updates
20 .[#707070].> 14 : <<events>>\nlisten
20 .[#707070].> 14 : <<commands>>\nsend
20 .[#707070].> 16 : <<events>>\nlisten
20 .[#707070].> 16 : <<commands>>\nsend
20 .[#707070].> 18 : <<events>>\nlisten
20 .[#707070].> 18 : <<commands>>\nsend
3 .[#707070].> 28 : <<WebSockets>>\nprepare the order
3 .[#707070].> 36 : <<WebSockets>>\nread restaurant projections and subscribe to updates
28 .[#707070].> 14 : <<commands>>\nsend
28 .[#707070].> 16 : <<commands>>\nsend
28 .[#707070].> 20 : <<commands>>\nsend
28 .[#707070].> 18 : <<commands>>\nsend
36 .[#707070].> 14 : <<events>>\nlisten
36 .[#707070].> 16 : <<events>>\nlisten
36 .[#707070].> 20 : <<events>>\nlisten
36 .[#707070].> 18 : <<events>>\nlisten
@enduml

PlantUML version 1.2018.13(Mon Nov 26 17:11:51 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>